# MockMvc 응답 body를 String으로 변환

```java
final MvcResult mvcResult = mockMvc.perform(put("/api/games/" + games.get(0).getId())
  .accept(MediaType.APPLICATION_JSON_VALUE)
  .contentType(MediaType.APPLICATION_JSON_VALUE)
  .content(objectMapper.writeValueAsString(body)).characterEncoding("utf-8"))
  .andDo(document("update-game",
      requestFields(
          fieldWithPath("name").description("게임 이름"),
          fieldWithPath("thumbnail").description("게임 썸네일 URL"),
          fieldWithPath("alternativeNames").description("대체 이름")
      ),
      responseFields(
          fieldWithPath("id").description("게임 ID"),
          fieldWithPath("name").description("게임 이름"),
          fieldWithPath("thumbnail").description("게임 썸네일 URL"),
          fieldWithPath("alternativeNames").description("대체 이름")
      )
  )
).andReturn();

return objectMapper.readValue(mvcResult.getResponse().getContentAsString(StandardCharsets.UTF_8), Dto.class);
```

`mvcResult.getResponse().getContentAsString(StandardCharsets.UTF_8)` 를 호출하면된다.

`StansdardCharsets.UTF_8` 없이하면 한글 깨지니 주의.

[https://stackoverflow.com/questions/51873620/is-there-a-method-built-in-spring-mockmvc-to-get-json-content-as-object](https://stackoverflow.com/questions/51873620/is-there-a-method-built-in-spring-mockmvc-to-get-json-content-as-object)