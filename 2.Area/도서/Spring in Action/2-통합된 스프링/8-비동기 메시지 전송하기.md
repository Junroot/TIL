# 비동기 메시지 전송하기

- 이전 장에서는 REST를 사용한 동기화 통신을 알아봤다.
- 비동기 메시징은 애플리케이션 간에 응답을 기다리지 않고 간접적으로 메시지를 전송하는 방법이다.

## JMS로 메시지 전송하기

- JMS(Java Message Service): 두 개 이상의 클라이언트 간에 메시지 통신을 위한 공통 API를 정의하는 자바 표준
- JMS가 나오기 전에는 메시지 브로커들이 각자 나름의 API를 갖고 있어서, 애플리케이션의 메시징 코드가 브로커 간에 호화되지 않았다.
	- 메시지 브로커: 클라이언트 간에 메시지 통신을 중개하는 역할
	- JMS를 사용하면 이것을 준수하는 모든 궇녀 코드가 공통 인터페이스를 통해 함께 작동할 수 있다.
- 스프링은 `JmsTemplate`이라는 템플릿 기반의 클래스를 통해 JMS를 지원한다. 
	- `JmsTemplate`을 사용하면 프로듀서가 큐와 토픽에 메시지를 전송하고, 컨슈머는 그 메시지들을 받을 수 잇다.
	- POJO도 지원한다. 

### JMS 설정하기

- 아파치 ActiveMQ 또는 더 최신의 아파치 ActiveMQ Artemis 중 어느 브로커를 사용할지 결정해야 한다.
- ActiveMQ를 사용하는 경우: pom.xml과 applicatoin.yml
	- 브로커 설치: https://activemq.apache.org/getting-started.html#Pre-InstallationRequirements
```xml
<dependecy>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-starter-activemq</artifactId>
</dependency>
```

```yml
spring:
	activemq:
		broker-url: tcp://activemq.tacocloud.com
		user: tacowewb
		password: l3tm31n
```

- Artemis를 사용하는 경우: pom.xml과 applicatoin.yml
	- 브로커 설치: https://activemq.apache.org/components/artemis/documentation/latest/using-server.html
```xml
<dependecy>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-starter-artemis</artifactId>
</dependency>
```

```yml
spring:
	artemis:
		host: artemis.tacocloud.com
		port: 61617
		user: tacoweb
		password: l3tm31n
```
