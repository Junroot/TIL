# 스프링 관리하기

## 스프링 부트 Admin 사용하기

- 스프링 부트 Admin은 관리용 프론트엔드 웹 애플리케이션이며, 액추에이터 엔드포인트를 사람들이 더 많이 소비할 수 있게 한다.
- 액추에이터 엔드포인트는 두 개의 주요 구성 요소로 나뉜다.
	- 스프링 부트 Admin
	- 클라이언트
- ![](assets/Pasted%20image%2020231114203128.png)

### Admin 서버 생성하기

- 일반적으로 Admin 서버는 독립 실행형 애플리케이션으로 사용된다.
- 의존성 추가
	- ![](assets/Pasted%20image%2020231114203526.png)
- 구성 클래스에 `@EnableAdminServer` 애노테이션 추가
	- ![](assets/Pasted%20image%2020231114203544.png)
- 아래 사진에서는 현재 0개 애플리케이션의 0개의 인스턴스가 등록되어 있는 것이다.
	- ![](assets/Pasted%20image%2020231114203658.png)

### Admin 클라이언트 등록하기

- 두 가지 방법
	- 각 애플리케이션이 자신을 Admin 서버에 등록
	- Admin 서버가 유레카 서비스 레지스트리를 통해서 서비스를 찾기
- 각 애플리케이션이 자신을 Admin 서버에 등록
	- 의존성 추가
		- ![](assets/Pasted%20image%2020231114204138.png)
	- `spring.boot.admin.client.url` 속성에 클라이언트가 자신을 등록할 수 있는 Admin 서버의 위치를 구성한다.
		- `spring.application.name` 속성으로 마이크로서비스의 이름을 알려준다.
		- ![](assets/Pasted%20image%2020231114204209.png)
	- ![](assets/Pasted%20image%2020231114204236.png)
- Admin 서버가 유레카 서비스 레지스트리를 통해서 서비스를 찾기
	- Admin 서버에 의존성만 추가하면 기본적으로 동작한다.
		- ![](assets/Pasted%20image%2020231114204539.png)
	- 기본적으로 admin 서버가 유레카 클라이언트이지만, 유레카 서비스로도 등록하기 위해서는 `eureka.client.register-with-eureka` 속성을 false로 설정하면 된다.
	- 다른 유레카 클라이언트처럼 유레카 서버가 기본 호스트와 포트에서 리스닝하지 않을 때는, `eureka.client.service-url.defaultZone` 속성에 구성할 수 있다.
		- ![](assets/Pasted%20image%2020231114204819.png)