# 단위 테스트의 목표

## 단위 테스트 현황

- 기업용 애플리케이션 개발 프로젝트는 제품 코드와 테스트 코드 비율을 1:1에서 1:3 정도 된다.
- 테스트 작성에 그치지 않고 노력 대비 최대의 이익을 이끌어내는 방식으로 단위 테스트를 작성하는 것이 중요하다.

## 단위 테스트의 목표

- 코드 조각을 단위 테스트할 수 없으면 설계 품질이 낮은 것이지만, 코드 조각을 단위 테스트할 수 있다고 설계 품질이 좋은 것은 아니다.
- 단위 테스트 목표는 소프트웨어 프로젝트의 지속 가능한 성장을 가능하게 하는 것이다.
	- 테스트를 작성하지 않으면 코드 베이스에서 무언가를 변경할 때마다 소프트웨어 엔트로피가 증가한다.
	- 소프트웨어 엔트로피가 증가한 다는 것은 개발 속도가 빠르게 감소한다는 것을 뜻한다.
	- 소프트웨어 엔트로피가 증가하면 하나의 버그를 수정하면 더 많은 버그를 양산하고, 소프트웨어의 한 부분을 수정하면 다른 부분들이 고장날 수 있다.
- 테스트는 안정망 역할을 하며, 대부분의 버그에 대한 보험을 제공하는 도구라 할 수 있다.
- 테스트의 한 가지 단점은 초반에 노력이 필요하다는 것이다.
	- 하지만 프로젝트 후반에도 잘 성장할 수 있도록 하므로 장기적으로 보면 그 비용을 메울 수 있다.

### 좋은 테스트와 좋지 않은 테스트를 가르는 요인

- 모든 테스트를 작성할 필요는 없다.
	- 일부 테스트는 아주 중요하고 소프트웨어 품질에 매우 많은 기여를 한다.
	- 그밖에 테스트는 잘못된 경고가 발생하고, 버그를 알아내는 데 도움되지 않으며, 유지 보수가 어렵고 느리다.
- 테스트를 작성할 때 테스트의 가치와 유지 비용을 모두 고려해야 한다. 비용 요소는 다양한 활동에 필요한 시간에 따라 결정된다.
	- 기반 코드를 리팩터링할 때 테스트도 리팩터링하라.
	- 각 코드 변경 시 테스트를 실행하라.
	- 테스트가 잘못된 경고를 발생시킬 경우 처리하라.
	- 기반 코드가 어떻게 동작하는지 이해하려고 할 때는 테스트를 읽는 데 시간을 투자하라.
- 테스트 코드도 코드다. 애플리케이션 정확성을 보장하는 것을 목표로 하는 코드베이스의 일부로 봐야 한다.
	- 프로덕션 코드와 마찬가지로 단위 테스트도 버그에 취약하고 유지 보수가 필요하다.