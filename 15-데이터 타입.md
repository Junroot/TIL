---
title: 15-데이터 타입
tags:
  - 도서/Real-MySQL
---
- 컬럼의 데이터 타입과 길이를 선정할 때 가장 주의할 사항은 다음과 같다.
	- 저장되는 값의 성격에 맞는 최적의 타입을 선정
	- 가변 길이 컬럼은 최적의 길이를 지정
	- 조인 조건으로 사용되는 컬럼은 똑같은 데이터 타입으로 선정

## 문자열(CHAR와 VARCHAR)

### 저장 공간

- CHAR와 VARCHAR의 공통점은 문자열을 저장할 수 있는 데이터 타입이라는 점이고, 가장 큰 차이는 고정 길이냐 가변 길이냐다.
- CHAR(1)과 VARCHAR(1) 타입을 사용할 때 사용되는 저장 공간의 크기
	- 두 문자열 타입 모두 한 글자를 저장할 때 사용하는 문자 집합에 따라 실제 저장 공간은 1~4바이트까지 사용된다.
	- 하지만 VARCHAR 타입은 저장할 때 문자열 길이를 관리하기 위한 1~2바이트의 공간을 추가로 더 사용한다.
	- VARCHAR 타입의 길이가 255바이트 이하이면 1바이트만 사용하고, 256바이트 이상이면 2바이트를 사용한다.
	- VARCHAR 타입의 길이 표현은 2바이트보다 클 수 없기 때문에, VARHCAR 타입의 최대길이는 65,536 바이트 이상으로 설정할 수 없다.
- CHAR 타입과 VARCHAR 타입을 결정할 때 중요한 판단 기준
	- 저장되는 문자열의 길이가 대개 비슷한가?
	- 컬럼의 값이 자주 변경되는가?
- ![](assets/Pasted%20image%2020241001024509.png)
	- 위 상황에서는 아래와 같이 저장된다.
		- ![](assets/Pasted%20image%2020241001024544.png)
	- VARCHAR 타입을 사용한다면 아래와 같이 저장된다.
		- ![](assets/Pasted%20image%2020241001024556.png)
	- 여기서 fd2 컬럼의 값을 "ABCDE"로 수정한다고하면, 
		- CHAR 타입은 공간이 10바이트 준비되어 있으므로 그냥 컬럼의 값을 업데이트만 하면 된다.
		- VARCHAR 타입은 길이가 더 큰 값으로 변경될 때 레코드 자체를 다른 공간으로 옮겨서(Row migration) 저장해야 한다.
- 값의 길이가 고정적일 때는 당옇니 CHAR 타입을 사용하고, 값이 2~3바이트씩 차이가 나더라도 자주 변경될 수 있는 값은 CHAR 타입을 상요하는 것이 좋다.
- 다른 DBMS와 달리 MySQL은 CHAR(10) E또는 VARCHAR(10)으로 컬럼을 정의하면 이 컬럼은 10바이트를 저장할 수 있는게 아니라, 10글자를 저장할 수 있는 공간을 의미한다.
