---
title: 1-코드 정리법
tags:
  - 도서/켄트-백의-Tidy-First
---
## 보호 구문

- 아래와 같은 코드를 본다면

```
if (조건)
	...코드...
```

```
if (조건)
	if (다른 조건 부정)
		...코드...
```

- 아래와 같이 정리할 수 있다.

```
if (조건 부정) return
if (다른 조건) return
...코드...
```

## 안 쓰는 코드

- 일단 지워라.
- 리플렉션을 사용한 코드일수도 있지 않은가?
	- 로그를 활용해 지우고 나서 다시 실행해서 확인 해본다.
	- 확신이 된다면 지울 수 있다.
- 지웠다가 나중에 필요할 경우는?
	- 형상 관리 도구가 이를 해결해준다.
- 정리 과정에는 코드를 조금만 삭제해라.
	- 그렇게 하면 잘못 고친 것으로 밝혀져도 비교적 쉽게 복구할 수 있다.

## 대칭으로 맞추기

- 같은 동작이라도 두 가지 이상의 패턴을 섞어 쓰면 혼란스러워진다.
- 한 가지 방식을 선택해서 정한다.
- 공통성이 있지만 세부 사항이 다른 것이 끼어 있다면 분리한다.

## 새로운 인터페이스로 기존 루틴 부르기

- 루틴을 호출해야 하는데 기존 인터페이스 때문에 어렵거나, 복잡하거나, 혼란스러울 수 있다.
- 이 경우 호출하고 싶은 인터페이스를 새롭게 구현해서 호출하도록 해라.
	- 기존 인터페이스를 호출하는 코드를 새 인터페이스를 호출하도록 모두 이전한 후에, 이전 인터페이스를 제거하고 새 인터페이스가 직접 루틴을 구현하도록 변경할 수 있다.
- 어떤 동작을 변경해야 할 때, 이런 통로 인터페이스를 통해 구현했다면 변경하기 한층 더 수월하다.
- 아래의 경우도 통로 인터페이스 적용과 비슷한 느낌을 받을 것이다.
	- 거꾸로 코딩하기: 루틴의 마지막 줄부터 시작. 마치 마지막 줄에 이르기까지 필요한 결과를 모두 확보한 듯이 짠다.
	- 테스트 우선 코딩: 테스트부터 작성하여 통과 요건을 정한다.
	- 도우미 설계: 나에게 특정 업무를 해 주는 루틴, 객체, 서비스가 있다면 나머지 작업은 쉬워진다.

## 읽는 순서

- 코드를 읽기 좋은 순서로 정렬하라.
- 완벽한 순서는 없다. 때로는 기본 요소를 먼저 이해한 다음 구성 방법을 이해하고 싶을 때가 있고, API를 먼저 이해한 다음 세부 구현을 이해하고 싶을 떄도 있다.
	- 스스로가 코드를 읽어 왔을 테니 최근 경험을 살려 판단해라.
